{
  "timestamp": "2025-06-04T17:37:09.731Z",
  "files": {
    "contexts": [
      "src/components/booking-v2/contexts/BookingProvider.tsx",
      "src/contexts/LanguageContext.tsx",
      "src/contexts/SimpleAuthContext.tsx"
    ],
    "hooks": [
      "src/hooks/useLanguage.ts",
      "src/hooks/useOptimizedLanguage.ts"
    ],
    "components": [
      "src/app/api/admin/pricing/delete-override/route.ts",
      "src/app/api/admin/pricing/delete-season/route.ts",
      "src/app/api/auth/simple-session/route.ts",
      "src/app/api/check-availability/route.ts",
      "src/app/api/check-calendars/route.ts",
      "src/app/api/check-collections/route.ts",
      "src/app/api/check-pricing/route.ts",
      "src/app/api/check-pricing-availability/route.ts",
      "src/app/api/check-pricing-v2/route.ts",
      "src/app/api/cron/release-holds/route.ts",
      "src/app/api/debug/route.ts",
      "src/app/api/debug-admin-firebase/route.ts",
      "src/app/api/debug-calendar-detail/route.ts",
      "src/app/api/debug-firebase-admin/route.ts",
      "src/app/api/debug-firebase-minimal/route.ts",
      "src/app/api/debug-june-discrepancy/route.ts",
      "src/app/api/debug-pricing/route.ts",
      "src/app/api/monitoring/availability/route.ts",
      "src/app/api/reset-price-cache/route.ts",
      "src/app/api/resolve-domain/route.ts",
      "src/app/api/startup-test/route.ts",
      "src/app/api/test-booking/route.ts",
      "src/app/api/test-env/route.ts",
      "src/app/api/test-firebase-admin/route.ts",
      "src/app/api/webhooks/stripe/route.ts",
      "src/app/booking/check/[slug]/page.tsx",
      "src/app/debug-pricing/page.tsx",
      "src/app/multilingual-test/page.tsx",
      "src/app/pricing-test/dynamic/page.tsx",
      "src/app/pricing-test/page.tsx",
      "src/app/properties/[slug]/[[...path]]/page.tsx",
      "src/app/test-production/page.tsx",
      "src/backup/middleware-original.ts",
      "src/components/booking/availability-check.tsx",
      "src/components/booking/availability-status.tsx",
      "src/components/booking/booking-summary.tsx",
      "src/components/booking/container/AvailabilityContainer.tsx",
      "src/components/booking/container/BookingCheckLayout.tsx",
      "src/components/booking/container/BookingContainer.tsx",
      "src/components/booking/container/RefactoredAvailabilityCheck.tsx",
      "src/components/booking/initial-booking-form.tsx",
      "src/components/booking/sections/availability/EnhancedAvailabilityChecker.tsx",
      "src/components/booking-v2/containers/BookingPageV2.tsx",
      "src/components/client-header.tsx",
      "src/components/currency-switcher-simple.tsx",
      "src/components/generic-header-multipage.tsx",
      "src/components/homepage/call-to-action.tsx",
      "src/components/homepage/experience-section.tsx",
      "src/components/homepage/hero-section.tsx",
      "src/components/homepage/host-introduction.tsx",
      "src/components/homepage/location-highlights.tsx",
      "src/components/homepage/testimonials-section.tsx",
      "src/components/homepage/unique-features.tsx",
      "src/components/language-selector.tsx",
      "src/components/property/amenities-display.tsx",
      "src/components/property/amenities-from-references.tsx",
      "src/components/property/amenities-list.tsx",
      "src/components/property/attractions-list.tsx",
      "src/components/property/distances-list.tsx",
      "src/components/property/full-map.tsx",
      "src/components/property/gallery-section.tsx",
      "src/components/property/page-header.tsx",
      "src/components/property/pricing-table.tsx",
      "src/components/property/property-page-renderer.tsx",
      "src/components/property/rooms-list.tsx",
      "src/components/property/specifications-list.tsx",
      "src/components/property/transport-options.tsx",
      "src/lib/domain-utils.ts",
      "src/lib/language-constants.ts",
      "src/lib/multilingual-utils.ts",
      "src/lib/property-utils.ts",
      "src/lib/server-language-utils.ts",
      "src/middleware-debug.ts",
      "src/middleware.ts",
      "src/scripts/cron/update-currency-rates.ts",
      "src/scripts/load-properties.ts",
      "src/scripts/test-availability-api.ts",
      "src/services/availabilityService.ts",
      "src/services/emailTemplates.ts",
      "src/types/index.ts"
    ],
    "utils": [],
    "translations": []
  },
  "usagePatterns": {
    "urlBasedLanguage": [
      "src/contexts/LanguageContext.tsx",
      "src/hooks/useLanguage.ts",
      "src/hooks/useOptimizedLanguage.ts",
      "src/lib/server-language-utils.ts",
      "src/middleware.ts"
    ],
    "queryParamLanguage": [
      "src/app/api/check-availability/route.ts",
      "src/app/api/resolve-domain/route.ts",
      "src/app/booking/check/[slug]/page.tsx",
      "src/backup/middleware-original.ts",
      "src/components/booking/container/BookingCheckLayout.tsx",
      "src/components/booking/container/BookingContainer.tsx",
      "src/components/booking/initial-booking-form.tsx",
      "src/components/booking-v2/contexts/BookingProvider.tsx",
      "src/components/property/property-page-renderer.tsx"
    ],
    "localStorageLanguage": [
      "src/services/availabilityService.ts"
    ],
    "browserLanguage": []
  },
  "conflicts": {
    "multipleHooks": [],
    "hydrationRisks": [
      "src/hooks/useLanguage.ts",
      "src/hooks/useOptimizedLanguage.ts"
    ],
    "performanceIssues": [
      "src/components/booking/container/AvailabilityContainer.tsx",
      "src/components/booking/sections/availability/EnhancedAvailabilityChecker.tsx",
      "src/contexts/LanguageContext.tsx",
      "src/hooks/useLanguage.ts"
    ]
  },
  "dependencies": {
    "externalLibraries": [],
    "internalDependencies": []
  },
  "recommendations": [
    "CRITICAL: Multiple language contexts detected - consolidation needed",
    "HIGH: Hydration risks detected - implement SSR-safe language detection",
    "MEDIUM: Performance issues detected - optimize translation loading",
    "MEDIUM: Mixed URL and query param usage - standardize approach"
  ]
}