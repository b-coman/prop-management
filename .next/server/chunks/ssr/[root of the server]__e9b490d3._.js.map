{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase.ts"],"sourcesContent":["// src/lib/firebase.ts\nimport { initializeApp, getApps, getApp } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\nimport { getAuth } from \"firebase/auth\"; // Added for Firebase Auth\n\n// Load environment variables from .env.local at the project root\n// This is automatically handled by Next.js in the app runtime.\n// Scripts like load-properties.ts need to load .env.local explicitly.\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase Client SDK\nlet app;\nif (getApps().length === 0) {\n  if (!firebaseConfig.apiKey || !firebaseConfig.projectId) {\n    console.error(\n      \"❌ Client Firebase Config Missing: NEXT_PUBLIC_FIREBASE_API_KEY or NEXT_PUBLIC_FIREBASE_PROJECT_ID is missing. Client SDK cannot initialize.\"\n    );\n    // Potentially throw an error or handle this case as critical\n  } else {\n    try {\n      app = initializeApp(firebaseConfig);\n      // console.log(\"✅ Firebase Client SDK initialized successfully.\");\n    } catch (initError) {\n      console.error(\"❌ Firebase Client SDK initialization failed:\", initError);\n    }\n  }\n} else {\n  app = getApp();\n  // console.log(\"ℹ️ Firebase Client SDK app already initialized.\");\n}\n\nlet db;\nlet auth; // Declare auth\n\nif (app) {\n  try {\n    db = getFirestore(app);\n    auth = getAuth(app); // Initialize auth\n    // console.log(\"✅ Firestore and Auth Client SDKs initialized successfully.\");\n  } catch (sdkError) {\n    console.error(\"❌ Firestore or Auth Client SDK initialization failed:\", sdkError);\n  }\n} else {\n  console.error(\"❌ Cannot initialize Firestore/Auth Client SDKs because Firebase app is not available.\");\n}\n\nexport { app, db, auth }; // Export auth\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;;AACtB;AAAA;AACA;AAAA;AACA,gTAAyC,0BAA0B;AAAnE;;;;AAEA,iEAAiE;AACjE,+DAA+D;AAC/D,sEAAsE;AAEtE,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,iCAAiC;AACjC,IAAI;AACJ,IAAI,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,KAAK,GAAG;IAC1B,IAAI,CAAC,eAAe,MAAM,IAAI,CAAC,eAAe,SAAS,EAAE;QACvD,QAAQ,KAAK,CACX;IAEF,6DAA6D;IAC/D,OAAO;QACL,IAAI;YACF,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;QACpB,kEAAkE;QACpE,EAAE,OAAO,WAAW;YAClB,QAAQ,KAAK,CAAC,gDAAgD;QAChE;IACF;AACF,OAAO;IACL,MAAM,CAAA,GAAA,oLAAA,CAAA,SAAM,AAAD;AACX,kEAAkE;AACpE;AAEA,IAAI;AACJ,IAAI,MAAM,eAAe;AAEzB,IAAI,KAAK;IACP,IAAI;QACF,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;QAClB,OAAO,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE,MAAM,kBAAkB;IACvC,6EAA6E;IAC/E,EAAE,OAAO,UAAU;QACjB,QAAQ,KAAK,CAAC,yDAAyD;IACzE;AACF,OAAO;IACL,QAAQ,KAAK,CAAC;AAChB;;CAE0B,cAAc","debugId":null}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/coupons/actions.ts"],"sourcesContent":["// src/app/admin/coupons/actions.ts\n\"use server\";\n\nimport { z } from \"zod\";\nimport { collection, getDocs, doc, updateDoc, serverTimestamp, Timestamp } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport type { Coupon, SerializableTimestamp } from \"@/types\";\nimport { revalidatePath } from \"next/cache\";\nimport { sanitizeText } from \"@/lib/sanitize\";\n\n// Schema for updating coupon status\nconst updateCouponStatusSchema = z.object({\n  couponId: z.string().min(1, \"Coupon ID is required.\"),\n  isActive: z.boolean(),\n});\n\n// Schema for updating coupon expiry date\nconst updateCouponExpirySchema = z.object({\n  couponId: z.string().min(1, \"Coupon ID is required.\"),\n  validUntil: z.date(), // Expecting a Date object from the client\n});\n\n// Schema for updating coupon booking validity period\nconst updateCouponBookingValiditySchema = z.object({\n    couponId: z.string().min(1, \"Coupon ID is required.\"),\n    bookingValidFrom: z.date().nullable(),\n    bookingValidUntil: z.date().nullable(),\n}).refine(data => {\n    if (data.bookingValidFrom && data.bookingValidUntil) {\n        return data.bookingValidUntil >= data.bookingValidFrom;\n    }\n    return true;\n}, {\n    message: \"Booking validity end date must be on or after the start date.\",\n    path: [\"bookingValidUntil\"],\n});\n\n// Schema for updating coupon exclusion periods\nconst exclusionPeriodSchema = z.object({\n  start: z.date(),\n  end: z.date(),\n}).refine(data => data.end >= data.start, { // Allow same day start/end\n  message: \"Exclusion end date must be on or after the start date.\",\n  path: [\"end\"],\n});\n\nconst updateCouponExclusionsSchema = z.object({\n  couponId: z.string().min(1, \"Coupon ID is required.\"),\n  exclusionPeriods: z.array(exclusionPeriodSchema),\n});\n\n\n// Helper to convert Firestore Timestamp or string date to a serializable format (ISO string)\nconst serializeTimestamp = (timestamp: SerializableTimestamp | undefined | null): string | null => {\n  if (!timestamp) return null;\n  if (timestamp instanceof Timestamp) {\n    return timestamp.toDate().toISOString();\n  }\n  if (timestamp instanceof Date) {\n    return timestamp.toISOString();\n  }\n  if (typeof timestamp === 'string') {\n    try {\n      return new Date(timestamp).toISOString();\n    } catch (e) {\n      console.warn(`Could not parse date string to ISOString: ${timestamp}`, e);\n      return null;\n    }\n  }\n  if (typeof timestamp === 'number') {\n    return new Date(timestamp).toISOString();\n  }\n  console.warn(`Unhandled timestamp type for serialization: ${typeof timestamp}`, timestamp);\n  return null;\n};\n\n\nexport async function fetchCoupons(): Promise<Coupon[]> {\n  try {\n    const couponsCollection = collection(db, 'coupons');\n    const querySnapshot = await getDocs(couponsCollection);\n    const coupons = querySnapshot.docs.map((doc) => {\n      const data = doc.data();\n      // Convert Timestamps to ISO strings for client components\n      return {\n        id: doc.id,\n        ...data,\n        validUntil: serializeTimestamp(data.validUntil),\n        bookingValidFrom: serializeTimestamp(data.bookingValidFrom),\n        bookingValidUntil: serializeTimestamp(data.bookingValidUntil),\n        exclusionPeriods: data.exclusionPeriods?.map((p: {start: SerializableTimestamp, end: SerializableTimestamp}) => ({\n            start: serializeTimestamp(p.start),\n            end: serializeTimestamp(p.end),\n        })) || null,\n        createdAt: serializeTimestamp(data.createdAt),\n        updatedAt: serializeTimestamp(data.updatedAt),\n      } as Coupon; // Cast to Coupon to ensure type compatibility\n    });\n    return coupons;\n  } catch (error) {\n    console.error(\"[Action fetchCoupons] Error fetching coupons:\", error);\n    return []; // Return empty array on error\n  }\n}\n\nexport async function updateCouponStatusAction(\n  values: z.infer<typeof updateCouponStatusSchema>\n): Promise<{ success: boolean; error?: string }> {\n  const validatedFields = updateCouponStatusSchema.safeParse(values);\n\n  if (!validatedFields.success) {\n    return { success: false, error: \"Invalid input.\" };\n  }\n\n  const { couponId, isActive } = validatedFields.data;\n\n  try {\n    const couponRef = doc(db, 'coupons', couponId);\n    await updateDoc(couponRef, {\n      isActive: isActive,\n      updatedAt: serverTimestamp(),\n    });\n    revalidatePath('/admin/coupons');\n    return { success: true };\n  } catch (error) {\n    console.error(\"[Action updateCouponStatusAction] Error updating coupon status:\", error);\n    return { success: false, error: \"Failed to update coupon status.\" };\n  }\n}\n\nexport async function updateCouponExpiryAction(\n  values: z.infer<typeof updateCouponExpirySchema>\n): Promise<{ success: boolean; error?: string }> {\n  const validatedFields = updateCouponExpirySchema.safeParse(values);\n\n  if (!validatedFields.success) {\n     const errorMessages = validatedFields.error.errors.map(e => `${e.path.join('.')}: ${e.message}`).join(', ');\n    return { success: false, error: `Invalid input: ${errorMessages}` };\n  }\n\n  const { couponId, validUntil } = validatedFields.data;\n\n  try {\n    const couponRef = doc(db, 'coupons', couponId);\n    await updateDoc(couponRef, {\n      validUntil: Timestamp.fromDate(validUntil), // Convert Date to Firestore Timestamp\n      updatedAt: serverTimestamp(),\n    });\n    revalidatePath('/admin/coupons');\n    return { success: true };\n  } catch (error) {\n    console.error(\"[Action updateCouponExpiryAction] Error updating coupon expiry:\", error);\n    return { success: false, error: \"Failed to update coupon expiry date.\" };\n  }\n}\n\n\nexport async function updateCouponBookingValidityAction(\n  values: z.infer<typeof updateCouponBookingValiditySchema>\n): Promise<{ success: boolean; error?: string }> {\n    const validatedFields = updateCouponBookingValiditySchema.safeParse(values);\n\n    if (!validatedFields.success) {\n        const errorMessages = validatedFields.error.errors.map(e => `${e.path.join('.')}: ${e.message}`).join(', ');\n        return { success: false, error: `Invalid input: ${errorMessages}` };\n    }\n\n    const { couponId, bookingValidFrom, bookingValidUntil } = validatedFields.data;\n\n    try {\n        const couponRef = doc(db, 'coupons', couponId);\n        await updateDoc(couponRef, {\n            bookingValidFrom: bookingValidFrom ? Timestamp.fromDate(bookingValidFrom) : null,\n            bookingValidUntil: bookingValidUntil ? Timestamp.fromDate(bookingValidUntil) : null,\n            updatedAt: serverTimestamp(),\n        });\n        revalidatePath('/admin/coupons');\n        return { success: true };\n    } catch (error) {\n        console.error(\"[Action updateCouponBookingValidityAction] Error updating coupon booking validity:\", error);\n        return { success: false, error: \"Failed to update coupon booking validity.\" };\n    }\n}\n\nexport async function updateCouponExclusionsAction(\n  values: z.infer<typeof updateCouponExclusionsSchema>\n): Promise<{ success: boolean; error?: string }> {\n    const validatedFields = updateCouponExclusionsSchema.safeParse(values);\n\n    if (!validatedFields.success) {\n        const errorMessages = validatedFields.error.errors.map(e => `${e.path.join('.')}: ${e.message}`).join(', ');\n        return { success: false, error: `Invalid input: ${errorMessages}` };\n    }\n\n    const { couponId, exclusionPeriods } = validatedFields.data;\n\n    try {\n        const couponRef = doc(db, 'coupons', couponId);\n        await updateDoc(couponRef, {\n            exclusionPeriods: exclusionPeriods.map(period => ({\n                start: Timestamp.fromDate(period.start),\n                end: Timestamp.fromDate(period.end),\n            })),\n            updatedAt: serverTimestamp(),\n        });\n        revalidatePath('/admin/coupons');\n        return { success: true };\n    } catch (error) {\n        console.error(\"[Action updateCouponExclusionsAction] Error updating coupon exclusion periods:\", error);\n        return { success: false, error: \"Failed to update coupon exclusion periods.\" };\n    }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/coupons/_components/coupon-table.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CouponTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call CouponTable() from the server but CouponTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/coupons/_components/coupon-table.tsx <module evaluation>\",\n    \"CouponTable\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oFACA","debugId":null}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/coupons/_components/coupon-table.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CouponTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call CouponTable() from the server but CouponTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/coupons/_components/coupon-table.tsx\",\n    \"CouponTable\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,gEACA","debugId":null}},
    {"offset": {"line": 616, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/coupons/page.tsx"],"sourcesContent":["// src/app/admin/coupons/page.tsx\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { fetchCoupons } from './actions'; // Import the fetch function\nimport { CouponTable } from './_components/coupon-table'; // Import the table component\n\nexport const dynamic = 'force-dynamic'; // Ensure the page is dynamically rendered to fetch fresh data\n\nexport default async function ManageCouponsPage() {\n  const coupons = await fetchCoupons(); // Fetch coupons server-side\n\n  return (\n    <div className=\"container mx-auto py-10\">\n      <Card className=\"mx-auto\">\n        <CardHeader>\n          <CardTitle>Manage Coupons</CardTitle>\n          <CardDescription>\n            View, activate/deactivate, and edit existing discount coupons.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {coupons.length > 0 ? (\n            // Pass the fetched coupons to the table component\n            <CouponTable coupons={coupons} />\n          ) : (\n            <p className=\"text-center text-muted-foreground\">No coupons found.</p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AACjC;AACA,8OAA0C,4BAA4B;AACtE,wRAA0D,6BAA6B;;;;;AAEhF,MAAM,UAAU,iBAAiB,8DAA8D;AAEvF,eAAe;IAC5B,MAAM,UAAU,MAAM,CAAA,GAAA,yIAAA,CAAA,eAAY,AAAD,KAAK,4BAA4B;IAElE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,gIAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,8OAAC,gIAAA,CAAA,aAAU;;sCACT,8OAAC,gIAAA,CAAA,YAAS;sCAAC;;;;;;sCACX,8OAAC,gIAAA,CAAA,kBAAe;sCAAC;;;;;;;;;;;;8BAInB,8OAAC,gIAAA,CAAA,cAAW;8BACT,QAAQ,MAAM,GAAG,IAChB,kDAAkD;kCAClD,8OAAC,iKAAA,CAAA,cAAW;wBAAC,SAAS;;;;;6CAEtB,8OAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;;;;;;;;;;;AAM7D","debugId":null}}]
}